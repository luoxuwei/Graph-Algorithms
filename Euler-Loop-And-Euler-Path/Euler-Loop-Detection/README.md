# 欧拉回路

**定义**

1.从一个点出发，沿着边行走，经过每个边恰好一次， 之后再回到出发点。当然没回到出发点，就是欧拉回路

2.有欧拉回路的图，不一定有哈密尔顿回路，反之亦然。

3.欧拉灰回路是数学家欧拉在研究著名的德国哥尼斯堡七桥问题时发现的。流经哥尼斯堡的普雷格尔河中有两个岛，两个岛与两岸共4处陆地
通过七座桥彼此相联。7桥问题就是如何能从任一处陆地出发，经过且经过每个桥一次后回到原点。

4.这个问题长期没有解决，欧拉后来尝试也没解决，最后证明了根本没有。

5.欧拉证明了七桥问题无解后，图论才开始发展。

**欧拉回路存在的性质**

1.因为欧拉回路，每条边只能经过一次，对于每一个点，进去一次，出去一次，等于耗费了两条边，

2.要想让每条边都走一遍，回到原点，每个点都必须有进有出。所以每个点肯定会被访问多次。

3.要回到原点，每个点，必须会有一进一出，所以每个点的相连的边数（即每个点的度)必须是偶数

4.总结就是，对于无向联通图，每个点的度是偶数的话就存在欧拉回路。偶数和联通都是必要的，只是偶数的话，图不联通，也无法每个边都走到，
极端的如果每个点都是不连接的，度数都是0，满足是偶数的条件，但肯定不存在路。

5.欧拉回路和每个点的度是偶数，互为充分必要条件，所以我们可以通过看每个点的度是不是偶数来判断图存不存在欧拉回路。

**证明**

1.从任一点出发，先随便找一个环。如果这个环就是原图，就已经找到了欧拉回路。

2.否则，我们删除这个环上所有的边， 剩下的边一定和我们找到的环相连。且所有的顶点的度数亦然是偶数，即依然存在环。

3.两个相连的环，一定组成一个新环。不断的重复这个过程，最终我们肯定能构造一个欧拉回路。

4.这是一个构造性的证明，我们既然能构造一个欧拉回路，那这个图肯定就存在欧拉回路。

**寻找欧拉回路算法**

1.回溯法，和求哈密尔顿回路一样，我们遍历到某个顶点已经没有边可走时，图中还有边没被遍历，就回退。这是个指数级算法（因为有回退，我们等于遍历所有顶点组成的全排列）。

2.欧拉回路和哈密尔顿回路算法最大的不同是，欧拉回路是能在多项式时间里完成的。

3.Fleury算法，某种程度上可以算是一种贪心算法，该算法想办法避免了回溯的过程。fleury算法的一个原则是，当我们来到了一个顶点，我们选择走哪条边
不是任意的，如果我们有多条边可以选的话，我们选那条不是桥的边。除非我们无路可选了。按照这个方式走就能得到欧拉回路，这是需要证明的。

4.这里也一个很好的例子，告诉我们在进行算法设计的时候，其实贪心算法是很难设计的，这是因为我们只去想怎么贪是很容易的，但是我们要证明这样贪是正确的，这件事，是很难得。
所以常说，贪心算法是比动态规划算法难的。因为动态规划算法，本质上是在暴力搜索的基础上做了一下记忆优化而已，当然怎样进行暴力搜索，这也是有学问的，
，但这背后的逻辑深度，和对数学的要求是远远低于去证明一个贪心的正确性的。贪心算法有一个专门的术语叫贪心选择性质，一个问题必须满足贪心选择性质，
才可以使用贪心算法的方式解决。

5.所以在Fleury算法里，遍历到一个顶点时，我们需要判断一下每条边是不是桥，这个判断是不能预处理的，因为，我们在寻找欧拉回路的过程中不断的在删除掉边，
我们对于来到一个顶点，对顶点每条边判断是不是桥，是基于删除掉走过的那些边之后的图来判断的。对全图首先寻找一遍桥是没有意义的，我们必须在寻找欧拉回路
的过程中，一边删边一边判断一个点的邻边是不是桥，正因为如果，fleury 算法的复杂度是O((V+E)^2)，遍历顶点 v + e，判断桥也是V+E ，所以是（V + E）^2,
因为fleury是在联通图上完成的所以可以简写成O(E^2),E 是 V 的一个高阶项或同阶项，写成V + E 是有可能每个顶点都不连接，E为0。

6.寻找欧拉回路还有一个复杂度更低的算法，是Hierholzer算法，这个算法是和之前证明顶点有偶数个边就有欧拉回路的过程是一样的，一个环一个环找，复杂度是O(V + E)

**Hierholzer算法**

1.用两个栈，一个curPath记录当前走的环，一个loop存我们在整个图中找的欧拉回路

2.遍历的过程中，将路径上的点依次压入curPath,当某个顶点五路可走时，我们就找到了一个环。然后倒回去，寻找其他的环，弹出这个顶点，压入loop，回退到上个顶点，如果上个顶点也无路可走，继续弹出
，如果有，就选择一条路遍历，将顶点压入curPath,重复这个过程，直到遍历完所有的边。

3.寻找的过程的每条边走了一次，回退了一次，所以算法复杂度是O(E)

# 欧拉路径

与欧拉回路的性质相比，因为不需要回到原点，所以有两个点的度数可以是基数（起点和终点）。
